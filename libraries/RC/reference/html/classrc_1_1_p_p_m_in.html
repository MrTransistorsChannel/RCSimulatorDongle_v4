<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ArduinoRCLib: rc::PPMIn Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ArduinoRCLib
   </div>
   <div id="projectbrief">Arduino RC Lib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classrc_1_1_p_p_m_in.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrc_1_1_p_p_m_in-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rc::PPMIn Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to encapsulate PPM Input functionality.  
 <a href="classrc_1_1_p_p_m_in.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_p_p_m_in_8h_source.html">PPMIn.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae74241b717122000afa45c8be54eee31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#ae74241b717122000afa45c8be54eee31">PPMIn</a> (uint16_t *p_results, uint8_t *p_work, uint8_t p_maxChannels)</td></tr>
<tr class="memdesc:ae74241b717122000afa45c8be54eee31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classrc_1_1_p_p_m_in.html" title="Class to encapsulate PPM Input functionality. ">PPMIn</a> object.  <a href="#ae74241b717122000afa45c8be54eee31">More...</a><br /></td></tr>
<tr class="separator:ae74241b717122000afa45c8be54eee31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bc01785329eb128782038a367531ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a92bc01785329eb128782038a367531ae">start</a> (bool p_high=false)</td></tr>
<tr class="memdesc:a92bc01785329eb128782038a367531ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts measuring.  <a href="#a92bc01785329eb128782038a367531ae">More...</a><br /></td></tr>
<tr class="separator:a92bc01785329eb128782038a367531ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4019b712fdd9ba39c453c27e4baddffb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a4019b712fdd9ba39c453c27e4baddffb">setPauseLength</a> (uint16_t p_length)</td></tr>
<tr class="memdesc:a4019b712fdd9ba39c453c27e4baddffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets minimum pause length, including pulse, in microseconds.  <a href="#a4019b712fdd9ba39c453c27e4baddffb">More...</a><br /></td></tr>
<tr class="separator:a4019b712fdd9ba39c453c27e4baddffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d9867ca467b13c63fa306481ecc402"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a06d9867ca467b13c63fa306481ecc402">getPauseLength</a> () const </td></tr>
<tr class="memdesc:a06d9867ca467b13c63fa306481ecc402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets minimum pause length in microseconds.  <a href="#a06d9867ca467b13c63fa306481ecc402">More...</a><br /></td></tr>
<tr class="separator:a06d9867ca467b13c63fa306481ecc402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad442007cf7a5eda21403502f72a56c8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#ad442007cf7a5eda21403502f72a56c8f">setTimeout</a> (uint16_t p_length)</td></tr>
<tr class="memdesc:ad442007cf7a5eda21403502f72a56c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets minimum amount of time without signal after which the signal is considered lost.  <a href="#ad442007cf7a5eda21403502f72a56c8f">More...</a><br /></td></tr>
<tr class="separator:ad442007cf7a5eda21403502f72a56c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4968071fcbea580dbc638838b230fe9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#ad4968071fcbea580dbc638838b230fe9">getTimeout</a> () const </td></tr>
<tr class="memdesc:ad4968071fcbea580dbc638838b230fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets amount of time without signal after which the signal is considered lost.  <a href="#ad4968071fcbea580dbc638838b230fe9">More...</a><br /></td></tr>
<tr class="separator:ad4968071fcbea580dbc638838b230fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cdcc726ce9b7171a44d894a30d90cd8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a4cdcc726ce9b7171a44d894a30d90cd8">isStable</a> () const </td></tr>
<tr class="memdesc:a4cdcc726ce9b7171a44d894a30d90cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the input signal is stable.  <a href="#a4cdcc726ce9b7171a44d894a30d90cd8">More...</a><br /></td></tr>
<tr class="separator:a4cdcc726ce9b7171a44d894a30d90cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21a55fcc41838919823bdb560e483a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#af21a55fcc41838919823bdb560e483a6">isLost</a> () const </td></tr>
<tr class="memdesc:af21a55fcc41838919823bdb560e483a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the input signal has been lost.  <a href="#af21a55fcc41838919823bdb560e483a6">More...</a><br /></td></tr>
<tr class="separator:af21a55fcc41838919823bdb560e483a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45c5a672155809a354b11b4620aa2af"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#ac45c5a672155809a354b11b4620aa2af">getChannels</a> () const </td></tr>
<tr class="memdesc:ac45c5a672155809a354b11b4620aa2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of channels in the signal.  <a href="#ac45c5a672155809a354b11b4620aa2af">More...</a><br /></td></tr>
<tr class="separator:ac45c5a672155809a354b11b4620aa2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d7eb0d4460c2758fce93168e254506b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a2d7eb0d4460c2758fce93168e254506b">pinChanged</a> (bool p_high)</td></tr>
<tr class="memdesc:a2d7eb0d4460c2758fce93168e254506b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles pin change interrupt, call in your interrupt handler.  <a href="#a2d7eb0d4460c2758fce93168e254506b">More...</a><br /></td></tr>
<tr class="separator:a2d7eb0d4460c2758fce93168e254506b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dbb67db98329d7d528c429ae34a59a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrc_1_1_p_p_m_in.html#a30dbb67db98329d7d528c429ae34a59a">update</a> ()</td></tr>
<tr class="memdesc:a30dbb67db98329d7d528c429ae34a59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the result buffer with new values.  <a href="#a30dbb67db98329d7d528c429ae34a59a">More...</a><br /></td></tr>
<tr class="separator:a30dbb67db98329d7d528c429ae34a59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to encapsulate PPM Input functionality. </p>
<p>This class provides a way to decode a PPM signal. </p><dl class="section author"><dt>Author</dt><dd>Daniel van den Ouden </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb-2012 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Public Domain. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This class should <b>NOT</b> be used together with the standard Arduino Servo library, use <a class="el" href="classrc_1_1_servo_out.html" title="Class to encapsulate Servo Signal Output functionality. ">rc::ServoOut</a> instead. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae74241b717122000afa45c8be54eee31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc::PPMIn::PPMIn </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>p_maxChannels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classrc_1_1_p_p_m_in.html" title="Class to encapsulate PPM Input functionality. ">PPMIn</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_results</td><td>External buffer to store results, at least p_maxChannels in size. </td></tr>
    <tr><td class="paramname">p_work</td><td>Work buffer at least PPMIN_WORK_SIZE(p_maxChannels) in size. </td></tr>
    <tr><td class="paramname">p_maxChannels</td><td>Maximum number of channels supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac45c5a672155809a354b11b4620aa2af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rc::PPMIn::getChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of channels in the signal. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of channels found in the last received signal. </dd></dl>

</div>
</div>
<a class="anchor" id="a06d9867ca467b13c63fa306481ecc402"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rc::PPMIn::getPauseLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets minimum pause length in microseconds. </p>
<dl class="section return"><dt>Returns</dt><dd>The minimum pause length in microseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="ad4968071fcbea580dbc638838b230fe9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rc::PPMIn::getTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets amount of time without signal after which the signal is considered lost. </p>
<dl class="section return"><dt>Returns</dt><dd>The minimum timeout time in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="af21a55fcc41838919823bdb560e483a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rc::PPMIn::isLost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the input signal has been lost. </p>
<dl class="section return"><dt>Returns</dt><dd>Return true if the signal has been lost. </dd></dl>

</div>
</div>
<a class="anchor" id="a4cdcc726ce9b7171a44d894a30d90cd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rc::PPMIn::isStable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the input signal is stable. </p>
<dl class="section return"><dt>Returns</dt><dd>Return true if a stable signal has been received. </dd></dl>

</div>
</div>
<a class="anchor" id="a2d7eb0d4460c2758fce93168e254506b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc::PPMIn::pinChanged </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>p_high</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles pin change interrupt, call in your interrupt handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_high</td><td>Whether the pin is high or not. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4019b712fdd9ba39c453c27e4baddffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc::PPMIn::setPauseLength </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>p_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets minimum pause length, including pulse, in microseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_length</td><td>Minimum pause length in microseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad442007cf7a5eda21403502f72a56c8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc::PPMIn::setTimeout </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>p_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets minimum amount of time without signal after which the signal is considered lost. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_length</td><td>Minimum timeout time in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Don't set this lower than your expected frame length (total length of pause + channels). </dd></dl>

</div>
</div>
<a class="anchor" id="a92bc01785329eb128782038a367531ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc::PPMIn::start </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>p_high</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts measuring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_high</td><td>Whether the incoming signal has high or low pulses. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It doesn't really matter if the pulses are low or high, but you may want to try changing this parameter if you experience an unstable signal. This may be due to simultaneous interrupts, changing the p_high parameter will make the interrupt handler respond to either the high or low pin change and may thus reduce problems created by simultaneous interrupts. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Do <b>NOT</b> use this together with the standard Arduino Servo library, use <a class="el" href="classrc_1_1_servo_out.html" title="Class to encapsulate Servo Signal Output functionality. ">rc::ServoOut</a> instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a30dbb67db98329d7d528c429ae34a59a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rc::PPMIn::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the result buffer with new values. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether anything has been updated. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this often to detect loss of signal early. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_p_p_m_in_8h_source.html">PPMIn.h</a></li>
<li>PPMIn.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>rc</b></li><li class="navelem"><a class="el" href="classrc_1_1_p_p_m_in.html">PPMIn</a></li>
    <li class="footer">Generated on Sun May 24 2015 18:44:48 for ArduinoRCLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
